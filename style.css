:root {
    --bg-black: #080808;
    --term-bg: #121212;
    --neon-green: #4af626;
    --my-bubble: #1b4d1d;
    --other-bubble: #252525;
    --sidebar-w: 220px;
}

* { box-sizing: border-box; margin: 0; padding: 0; }

body {
    background-color: var(--bg-black);
    font-family: 'Courier New', Courier, monospace;
    color: var(--neon-green);
    height: 100dvh; /* مهم جداً للموبايل */
    overflow: hidden;
}

/* شاشة الدخول */
.login-overlay {
    position: fixed; inset: 0; background: #000;
    display: flex; justify-content: center; align-items: center; z-index: 10000;
}
.login-box {
    background: var(--term-bg); padding: 30px; border: 1px solid var(--neon-green);
    width: 90%; max-width: 400px; text-align: left;
}
.login-box input {
    width: 100%; background: #000; border: 1px solid #333; color: var(--neon-green);
    padding: 12px; margin: 10px 0; outline: none; font-size: 16px;
}
.login-box button {
    width: 100%; background: var(--neon-green); color: #000; border: none;
    padding: 12px; cursor: pointer; font-weight: bold;
}

/* التنسيق الرئيسي */
.app-wrapper { 
    display: flex; 
    height: 100dvh; /* يتغير تلقائياً مع الكيبورد */
    width: 100%; 
}

/* القائمة الجانبية */
.sidebar {
    width: var(--sidebar-w); background: #0c0c0c; border-right: 1px solid #222;
    display: flex; flex-direction: column; transition: 0.3s ease;
    z-index: 999;
}
.sidebar-header { padding: 15px; font-size: 12px; color: #555; border-bottom: 1px solid #222; }
#usersList { list-style: none; padding: 15px; }
#usersList li { padding: 8px 0; color: var(--neon-green); font-size: 14px; }

/* منطقة الشات */
.chat-container { flex: 1; display: flex; flex-direction: column; background: var(--term-bg); position: relative; }
.chat-header {
    height: 55px; background: #1a1a1a; display: flex; align-items: center;
    padding: 0 15px; border-bottom: 1px solid #333; justify-content: space-between;
}
.messages-area {
    flex: 1; overflow-y: auto; padding: 20px; display: flex; flex-direction: column; gap: 15px;
    padding-bottom: 80px; /* مساحة أمان */
}

/* الفقاعات */
.message {
    max-width: 85%; padding: 10px 15px; border-radius: 15px; font-size: 14px;
    line-height: 1.4; color: #fff; width: fit-content; word-break: break-word;
}
.my-msg { align-self: flex-end; background: var(--my-bubble); border-bottom-right-radius: 2px; }
.client-
